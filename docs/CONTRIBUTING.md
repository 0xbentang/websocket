# Contributing

## Issues

Please be as descriptive as possible with your description.

## Pull requests

Please split up changes into several small descriptive commits.

Please capitalize the first word in the commit message title.

The commit message title should use the verb tense + phrase that completes the blank in

> This change modifies websocket to \_\_\_\_\_\_\_\_\_

Be sure to link to an existing issue if one exists. In general, try creating an issue
before making a PR to get some discussion going and to make sure you do not spend time
on a PR that may be rejected.

You can run tests normally with `go test`.
You'll need the [Autobahn Test suite pip package](https://github.com/crossbario/autobahn-testsuite).
In the future this dependency will be removed. See [#117](https://github.com/nhooyr/websocket/issues/117).

On submission please check if CI has passed and if not, please correct your code such that it does.
If necessary, you may run CI locally with the `ci/run.sh` script which will fmt, lint and test your code
with coverage.
You'll need [shellcheck](https://github.com/koalaman/shellcheck#installing), node and the
Autobahn Test suite linked above.

For coverage details locally, please see `ci/out/coverage.html` after running `ci/run.sh` or `ci/test.sh`.
For remote coverage, you can use either [codecov](https://codecov.io/gh/nhooyr/websocket) or download the
`coverage.html` artifact on the test step in CI.

You can also run any of the CI steps individually. All of them are scripts in the `ci` directory.

See [../ci/lint.sh](../ci/lint.sh) and [../ci/test.sh](../ci/test.sh) for the
installation of shellcheck, node and the Autobahn test suite on Debian or Ubuntu.

For Go, please refer to the [offical docs](https://golang.org/doc/install).

You can benchmark the library with `./ci/benchmark.sh`. You only need Go to run that script. Benchmark
profiles generated by that script are also available as artifacts on the bench step.